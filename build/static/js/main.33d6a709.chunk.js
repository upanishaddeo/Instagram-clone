(this["webpackJsonpmeet-them-up"]=this["webpackJsonpmeet-them-up"]||[]).push([[0],{45:function(e,t,a){e.exports=a(70)},50:function(e,t,a){},51:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(13),r=a.n(c),s=(a(50),a(10)),l=(a(51),a(97)),i=a(18),u=a.n(i),m=u.a.initializeApp({apiKey:"AIzaSyC3MMiAhNur_eKuA_mLZ0f-linB4b26TUo",authDomain:"meet-them-up.firebaseapp.com",databaseURL:"https://meet-them-up.firebaseio.com",projectId:"meet-them-up",storageBucket:"meet-them-up.appspot.com",messagingSenderId:"715364326935",appId:"1:715364326935:web:ca83d905f9f411a8454652",measurementId:"G-7PYM182HLN"}).firestore(),p=u.a.auth(),d=u.a.storage();var f=function(e){var t=e.postId,a=e.user,c=e.username,r=e.caption,i=e.imageUrl,p=Object(n.useState)([]),d=Object(s.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(""),E=Object(s.a)(h,2),v=E[0],b=E[1];return Object(n.useEffect)((function(){var e;return t&&(e=m.collection("posts").doc(t).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){g(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[t]),o.a.createElement("div",{className:"post"},o.a.createElement("div",{className:"post__header"},o.a.createElement(l.a,{className:"post__avatar",alt:"upnishad deo",src:i}),o.a.createElement("h3",null,c)),o.a.createElement("img",{className:"post__image",src:i,alt:""}),o.a.createElement("h4",{className:"post__text"},o.a.createElement("strong",null,c),": ",r),o.a.createElement("div",{className:"post__comments"},f.map((function(e){return o.a.createElement("p",null,o.a.createElement("strong",null,e.username)," ",e.text)}))),a&&o.a.createElement("form",{className:"post__commentBox"},o.a.createElement("input",{className:"post__input",type:"text",placeholder:"Add a comment...",value:v,onChange:function(e){return b(e.target.value)}}),o.a.createElement("button",{disabled:!v,className:"post__button",type:"submit",onClick:function(e){e.preventDefault(),m.collection("posts").doc(t).collection("comments").add({text:v,username:a.displayName,timestamp:u.a.firestore.FieldValue.serverTimestamp()}),b("")}},"post")))},g=(a(66),a(93)),h=a(94),E=a(96),v=a(95);a(67);var b=function(e){var t=e.username,a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],l=c[1],i=Object(n.useState)(0),p=Object(s.a)(i,2),f=p[0],g=p[1],h=Object(n.useState)(""),E=Object(s.a)(h,2),b=E[0],_=E[1];return o.a.createElement("div",{className:"imageupload"},o.a.createElement("progress",{value:f,max:"100"}),o.a.createElement("input",{type:"text",placeholder:"Tell us what do you feel ?",onChange:function(e){return _(e.target.value)},value:b}),o.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&l(e.target.files[0])}}),o.a.createElement(v.a,{onClick:function(){d.ref("images/".concat(r.name)).put(r).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);g(t)}),(function(e){console.log(e),alert(e.message)}),(function(){d.ref("images").child(r.name).getDownloadURL().then((function(e){m.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),caption:b,imageUrl:e,username:t}),g(0),_(""),l(null)}))}))}},"Upload"))},_=a(40);function j(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var O=Object(g.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var N=function(){var e=O(),t=Object(n.useState)(j),a=Object(s.a)(t,1)[0],c=Object(n.useState)([]),r=Object(s.a)(c,2),l=r[0],i=r[1],u=Object(n.useState)([!1]),d=Object(s.a)(u,2),g=d[0],N=d[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),S=w[0],C=w[1],k=Object(n.useState)(""),x=Object(s.a)(k,2),I=x[0],U=x[1],A=Object(n.useState)(""),B=Object(s.a)(A,2),L=B[0],T=B[1],M=Object(n.useState)(""),z=Object(s.a)(M,2),D=z[0],P=z[1],W=Object(n.useState)(null),R=Object(s.a)(W,2),F=R[0],G=R[1];return Object(n.useEffect)((function(){var e=p.onAuthStateChanged((function(e){e?(console.log(e),G(e)):G(null)}));return function(){e()}}),[F,I]),Object(n.useEffect)((function(){m.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),o.a.createElement("div",{className:"app"},o.a.createElement(h.a,{open:g,onClose:function(){return N(!1)}},o.a.createElement("div",{style:a,className:e.paper},o.a.createElement("form",{className:"app__signup"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:"https://upload-icon.s3.us-east-2.amazonaws.com/uploads/icons/png/6317933901561032520-512.png",alt:""})),o.a.createElement(E.a,{type:"text",placeholder:"username",value:I,onChange:function(e){return U(e.target.value)}}),o.a.createElement(E.a,{placeholder:"email",type:"text",value:D,onChange:function(e){return P(e.target.value)}}),o.a.createElement(E.a,{placeholder:"password",type:"password",value:L,onChange:function(e){return T(e.target.value)}}),o.a.createElement(v.a,{type:"submit",onClick:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(D,L).then((function(e){return e.user.updateProfile({displayName:I})})).catch((function(e){return alert(e.message)})),N(!1)}},"Sign Up")))),o.a.createElement(h.a,{open:S,onClose:function(){return C(!1)}},o.a.createElement("div",{style:a,className:e.paper},o.a.createElement("form",{className:"app__signup"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:"https://upload-icon.s3.us-east-2.amazonaws.com/uploads/icons/png/6317933901561032520-512.png",alt:""})),o.a.createElement(E.a,{placeholder:"email",type:"text",value:D,onChange:function(e){return P(e.target.value)}}),o.a.createElement(E.a,{placeholder:"password",type:"password",value:L,onChange:function(e){return T(e.target.value)}}),o.a.createElement(v.a,{type:"submit",onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(D,L).catch((function(e){return alert(e.message)})),C(!1)}},"Sign In")))),o.a.createElement("div",{className:"app__header"},o.a.createElement("img",{className:"app__headerImage1",src:"https://upload-icon.s3.us-east-2.amazonaws.com/uploads/icons/png/6317933901561032520-512.png",alt:""}),F?o.a.createElement(v.a,{onClick:function(){return p.signOut()}},"Logout"):o.a.createElement("div",{className:"app__loginContainer"},o.a.createElement(v.a,{onClick:function(){return C(!0)}},"Sign in"),o.a.createElement(v.a,{onClick:function(){return N(!0)}},"Sign Up"))),o.a.createElement("div",{className:"app__posts"},o.a.createElement("div",{className:"app__postsLeft"},l.map((function(e){var t=e.id,a=e.post;return o.a.createElement(f,{key:t,postId:t,user:F,username:a.username,caption:a.caption,imageUrl:a.imageUrl})}))),o.a.createElement("div",{className:"app__postsRight"},o.a.createElement(_.a,{url:"https://www.instagram.com/p/B_uf9dmAGPw/",maxWidth:320,hideCaption:!1,conatainerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}}))),(null===F||void 0===F?void 0:F.displayName)?o.a.createElement(b,{username:F.displayName}):o.a.createElement("h3",null,"Login to start your journey on Meet-Them-up"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.33d6a709.chunk.js.map